![Express Logo](https://st.timeweb.com/cloud-static/apps-logo/express.svg)

# Express

## Локальный запуск проекта

```bash
# установка зависимостей
npm install

# запуск приложения
nodemon index
```

## Методы

#### МЕТОД 0. При переходе на страницу "/api/calc/" Выдаем приветственное сообщение 

#### Пример ответа: 
```json
{
    "message": "Hello!!!"
}
```

#### МЕТОД 1. При переходе на страницу "/api/calc/income/" подсчет доходов направления 
#### Пример тела запроса: 
```json
{
    "data": [
        {
            "cash": [144718, 144718, 144718, 144718],
            "students": [0, 0, 14, 21]
        },
        {
            "cash": [136200, 136200, 135900, 141600],
            "students": [18, 65, 41, 12]
        }
    ]
}
```

#### Пример ответа: 
```json
{
    "budget": 5065130,
    "commerce": 18575700,
    "sum": 23640830
}
```

#### МЕТОД 2. При переходе на страницу "/api/calc/cost/" Подсчет расходов направления 
#### Пример тела запроса: 
```json
{
    "cash": 925,
    "insKoef": 2,
    "aupKoef": 2,
    "overKoef": 0.430,
    "multiCashKoef": 0.430,
    "multiPriceKoef": 0.302,
    "groupCount": [1, 4, 4, 2],
    "students": [18, 65, 55, 21],
    "group": [514, 519, 528, 379],
    "flow": [420, 360, 396, 442],
    "subgroup": [144, 160, 72, 144],
    "ind": [22.79, 26.05, 27.55, 43.84]
}
```

#### Пример ответа: 
```json
{
    "group": 5050500,
    "flow": 2001700,
    "subgroup": 2516000,
    "ind": 4198908,
    "sumpps": 13767108,
    "aup": 5919856.4399999995,
    "other": 5919856.4399999995,
    "tax": 4157666.616,
    "sum": 29764487.495999996
}
```

#### МЕТОД 3. При переходе на страницу "/api/calc/finres/" Подсчет финансового результата направления 
#### Пример тела запроса: 
```json
{
    "income": 29622405,
    "cost": 29764490,
    "groupCount": 11,
    "studentCount": 171
}
```

#### Пример ответа: 
```json
{
    "finres": -142085,
    "efficiency": -0.004773641342418422,
    "oneGroup": -12916.818181818182,
    "oneStudent": -830.906432748538
}
```

#### МЕТОД 4. При переходе на страницу "/api/calc/" Подсчет всех финансовых показателей направления 
#### Пример тела запроса: 
```json
{
    "data": [
        {
            "cash1": [144718, 144718, 144718, 144718],
            "students1": [0, 0, 14, 21],
            "cash2": [136200, 136200, 135900, 141600],
            "students2": [18, 65, 41, 12]
        },
        {
            "cash": 925,
            "insKoef": 2,
            "aupKoef": 2,
            "overKoef": 0.430,
            "multiCashKoef": 0.430,
            "multiPriceKoef": 0.302,
            "groupCount": [1, 4, 4, 2],
            "students": [18, 65, 55, 21],
            "group": [514, 519, 528, 379],
            "flow": [420, 360, 396, 442],
            "subgroup": [144, 160, 72, 144],
            "ind": [22.79, 26.05, 27.55, 43.84]
        },
        {
            "groupCount": 11,
            "studentCount": 171
        }
    ]
}
```

#### Пример ответа: 
```json
{
    "result": {
        "income": {
            "budget": 5065130,
            "commerce": 18575700,
            "sumIncome": 23640830
        },
        "cost": {
            "group": 5050500,
            "flow": 2001700,
            "subgroup": 2516000,
            "ind": 4198908,
            "sumpps": 13767108,
            "aup": 5919856,
            "other": 5919856,
            "tax": 4157666,
            "sumCost": 29764486
        },
        "finres": {
            "finres": -6123656,
            "efficiency": -0.2057369981124485,
            "oneGroup": -556696,
            "oneStudent": -35810
        }
    }
}
```